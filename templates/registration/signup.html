{% extends "base.html" %}

{% load static %}

{% load crispy_forms_tags %}

{% block cssblock %}
  <link rel="stylesheet" href="{% static 'css/users/signup.css' %}">
{% endblock cssblock %}

{% block title %}
  Login | Instagram
{% endblock title %}

{% block content %}
  <div class="signup">
    <div class="name-brand">
      <a href="{% url 'core:home' %}" target="_blank" rel="noopener noreferrer">
        <h1>Djangram</h1>
      </a>
    </div>

    <div class="social-login">
      <a href="#" rel="noopener noreferrer">
        <i class="fab fa-facebook-f"></i>
      </a>
      <a href="#" rel="noopener noreferrer">
        <i class="fab fa-google"></i>
      </a>
    </div>

    <p class="tc">
      Or register new account
    </p>

    <div class="signup__div">
      <form id="signup__form" method="POST" action="{% url 'users:signup' %}" >
        {% csrf_token %}

        {{ form|crispy }}
        {% comment %} <input type="email" name="email" id="id_email" placeholder="Your email" autofocus autocomplete="off" required>
        <input type="text" name="username" id="id_username" placeholder="Your username" autocomplete="off" required>
        <input type="password" name="password1" id="id_password1" placeholder="Your password" autocomplete="off" required>
        <input type="password" name="password2" id="id_password2" placeholder="Confirm your password" autocomplete="off" required> {% endcomment %}

        <input type="submit" value="Sign Up">
      </form>

      <p>Have account ? <a href="{% url 'users:login' %}">Login</a></p>
    </div>

  </div>

  <p class="tc">Get the app</p>

  <div class="get-app">
    <a href="#" rel="noopener noreferrer">
      <img alt="Available on the App Store" src="{% static 'img/apple-store.png' %}">
    </a>
    <a href="#" rel="noopener noreferrer">
      <img alt="Available on Google Play" src="{% static 'img/ch-play.png' %}">
    </a>
  </div>

{% endblock content %}

{% block jsblock %}
  <script src="{% static 'js/main.js' %}"></script>
  <script>
    $(document).ready(function() {
        $('#signup__form').submit(function() { // catch the form's submit event
            $.ajax({ // create an AJAX call...
                type: "POST", // GET or POST
                url: "{% url 'users:signup' %}", // the file to call
            });
        });
        return false;
    });
  </script>
{% endblock jsblock %}
